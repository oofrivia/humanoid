    q_final = q_init.copy()
    # q_final[4] = 0.1 # x position of pelvis
    q_final[6] = 0.90 # z position of pelvis (to make sure final pose touches ground)

    num_knot_points = 6
    # max_time = 0.14278
    max_time = 0.15

    r_traj = np.array([[ 1.33884302e-03,  1.04911005e-03,  1.29087388e+00],
        [ 6.94418259e-03, -8.23044969e-04,  1.19479193e+00],
        [ 7.88826379e-03, -1.26066513e-03,  1.17813942e+00],
        [ 8.20776635e-03, -1.33447847e-03,  1.17348443e+00],
        [ 8.36268118e-03, -1.35747624e-03,  1.17133799e+00],
        [ 8.36268118e-03, -1.35747624e-03,  1.17133799e+00]])
    rd_traj = np.array([[ 2.04789298e-01, -4.76702934e-02, -3.34777500e+00],
       [ 8.10624419e-02, -4.78027396e-02, -1.55205167e+00],
       [ 5.52423379e-02, -1.53800883e-02, -8.52208449e-01],
       [ 3.96022928e-02, -6.53146809e-03, -5.29629198e-01],
       [ 1.21963912e-02, -1.15826851e-03, -1.88074306e-01],
       [-1.21963912e-02,  1.15826851e-03,  1.88074306e-01]])
    rdd_traj = np.array([[-1.15194592e-11, -1.16752884e-11, -9.80990798e+00],
       [-3.15480772e+00, -3.37713584e-03,  4.57876485e+01],
       [-1.86393054e+00,  2.34056262e+00,  5.05210655e+01],
       [-2.32138096e+00,  1.31336056e+00,  4.78789752e+01],
       [-4.58183899e+00,  8.98315101e-01,  5.71026467e+01],
       [-3.35942169e+00,  3.19038008e-01,  5.18039223e+01]])
    q_traj = np.array([[ 1.00000000e+00, -1.78670980e-31, -2.62178581e-31,
         5.91324996e-33,  0.00000000e+00,  3.33036112e-31,
         1.00000000e+00, -9.85832891e-34, -6.46995948e-33,
         3.89942259e-42,  0.00000000e+00,  7.19865224e-39,
        -1.73327230e-32,  1.29075436e-32,  8.72063406e-33,
        -2.31156703e-33, -1.45359427e-33,  1.04215903e-40,
        -1.78219316e-33,  4.56437991e-33, -4.53142199e-33,
         8.62865659e-35, -4.82039009e-35, -2.00020649e-34,
         0.00000000e+00,  1.31988898e-40, -1.55073620e-35,
        -1.54573393e-33, -3.64230598e-34, -3.03977877e-34,
         9.24789416e-35,  6.60052628e-41,  1.03029660e-36,
         1.80549733e-35,  1.57817636e-35, -7.85423798e-37,
        -3.14169232e-36],
       [ 9.54565540e-01, -5.89599891e-02, -9.86119164e-02,
         1.73693925e-01,  2.31315477e-03, -2.37029564e-03,
         9.15743897e-01, -2.65528081e-01,  2.16624540e-01,
         3.62444117e-02,  3.08488892e-01,  1.30788842e-01,
         1.02811279e-01,  1.50301354e-01,  3.75267559e-01,
         2.48617500e-02, -2.02808801e-01,  3.70092031e-01,
        -1.10342256e-01, -4.02581701e-01,  2.28761557e-01,
        -1.65879729e-01,  2.12611036e-01,  1.79404371e-01,
        -1.08951862e-01,  3.77165385e-01, -1.59765142e-02,
         7.00140991e-02,  7.57043385e-02,  1.14029729e-02,
         2.81680149e-03,  3.71862175e-01, -5.08263792e-04,
        -1.95842167e-01, -4.13525151e-04, -8.57421317e-02,
        -2.24303567e-01],
       [ 9.39828458e-01, -8.04798407e-02, -1.30695769e-01,
         2.11215713e-01,  4.43054107e-03, -2.16469519e-03,
         9.04737769e-01, -3.28819040e-01,  2.34805319e-01,
         2.91760209e-02,  4.03066537e-01,  1.99183685e-01,
         1.54763167e-01,  1.96834560e-01,  4.74319748e-01,
         4.66895475e-02, -2.62141089e-01,  4.41590142e-01,
        -7.81979124e-02, -5.14046285e-01,  2.95749062e-01,
        -2.33739380e-01,  2.70048044e-01,  2.06345221e-01,
        -1.43273008e-01,  4.53087471e-01, -1.68421963e-02,
         7.65368881e-02,  8.54935816e-02,  4.31374963e-03,
         1.29767983e-02,  4.44638453e-01, -5.83107307e-04,
        -2.17564590e-01,  4.98680393e-04, -9.40640975e-02,
        -2.49131961e-01],
       [ 9.35804446e-01, -8.32538430e-02, -1.35086419e-01,
         2.24328722e-01,  6.69884376e-03, -3.70598705e-04,
         9.00588724e-01, -3.54149444e-01,  2.46087659e-01,
         3.14812926e-02,  4.10375602e-01,  2.08691879e-01,
         1.61653772e-01,  2.02532045e-01,  5.01442984e-01,
         5.54528972e-02, -2.80298822e-01,  4.56564357e-01,
        -7.28397604e-02, -5.55195308e-01,  3.14885012e-01,
        -2.46363905e-01,  2.78548097e-01,  2.16800645e-01,
        -1.47063187e-01,  4.69314552e-01, -1.69769313e-02,
         7.77012973e-02,  8.84687984e-02,  4.29665452e-03,
         1.43349393e-02,  4.60044958e-01, -6.14074354e-04,
        -2.21504437e-01,  5.86833515e-04, -9.56352493e-02,
        -2.53740918e-01],
       [ 9.30787472e-01, -8.60090766e-02, -1.39603607e-01,
         2.40160413e-01, -1.34950513e-32, -2.25349893e-31,
         9.00000000e-01, -3.80405873e-01,  2.51415394e-01,
         3.24581762e-02,  4.47289634e-01,  2.12445552e-01,
         1.56643748e-01,  2.07412145e-01,  4.99212273e-01,
         2.87433345e-02, -2.93885947e-01,  4.67243994e-01,
        -8.17730882e-02, -5.61126402e-01,  3.01615157e-01,
        -2.52093855e-01,  2.80369579e-01,  2.23356905e-01,
        -1.30302778e-01,  4.80492396e-01, -1.72706783e-02,
         8.07368472e-02,  9.33137388e-02,  4.93758571e-03,
         1.41747775e-02,  4.70710380e-01, -6.13887699e-04,
        -2.24261451e-01,  5.27689345e-04, -9.67562795e-02,
        -2.56888553e-01],
       [ 9.30787472e-01, -8.60090766e-02, -1.39603607e-01,
         2.40160413e-01,  0.00000000e+00,  0.00000000e+00,
         9.00000000e-01, -3.80405873e-01,  2.51415394e-01,
         3.24581762e-02,  4.47289634e-01,  2.12445552e-01,
         1.56643748e-01,  2.07412145e-01,  4.99212273e-01,
         2.87433345e-02, -2.93885947e-01,  4.67243994e-01,
        -8.17730882e-02, -5.61126402e-01,  3.01615157e-01,
        -2.52093855e-01,  2.80369579e-01,  2.23356905e-01,
        -1.30302778e-01,  4.80492396e-01, -1.72706783e-02,
         8.07368472e-02,  9.33137388e-02,  4.93758571e-03,
         1.41747775e-02,  4.70710380e-01, -6.13887699e-04,
        -2.24261451e-01,  5.27689345e-04, -9.67562795e-02,
        -2.56888553e-01]])
    v_traj = np.array([[ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00,
         0.00000000e+00,  0.00000000e+00,  0.00000000e+00,
         0.00000000e+00, -1.51768810e-34,  4.11030196e-34,
         2.57979941e-33, -1.25627322e-33,  1.70137131e-33,
         9.18354962e-41, -1.34309413e-39,  2.20261048e-34,
        -2.91700744e-33, -3.03128884e-41,  0.00000000e+00,
        -6.55079124e-34,  1.49994357e-34,  9.61112329e-34,
         0.00000000e+00, -1.01979682e-34, -1.88740828e-35,
        -1.79007471e-40, -3.98722112e-35, -6.75912696e-36,
        -5.18175832e-35,  3.80011126e-34,  0.00000000e+00,
        -1.72511199e-42, -4.15727238e-36,  1.34462161e-36,
         0.00000000e+00, -1.63534602e-37,  1.38990109e-37],
       [-3.14985495e+00, -5.26820371e+00,  9.27935499e+00,
         5.89812005e-02, -6.04381878e-02, -2.14837597e+00,
        -6.77047866e+00,  5.52352813e+00,  9.24165969e-01,
         7.86590048e+00,  3.33487540e+00,  2.62149889e+00,
         3.83240864e+00,  9.56863391e+00,  6.33928989e-01,
        -5.17125216e+00,  9.43666744e+00, -2.81352498e+00,
        -1.02650944e+01,  5.83299980e+00, -4.22962860e+00,
         5.42119116e+00,  4.57448215e+00, -2.77807248e+00,
         9.61702499e+00, -4.07371785e-01,  1.78523101e+00,
         1.93032167e+00,  2.90754879e-01,  7.18232675e-02,
         9.48180287e+00, -1.29597937e-02, -4.99361577e+00,
        -1.05441323e-02, -2.18626697e+00, -5.71932923e+00],
       [-2.96485983e+00, -5.09941386e+00,  5.78854041e+00,
         1.52852251e-01,  1.48421148e-02, -7.94522656e-01,
        -4.56891855e+00,  1.31245445e+00, -5.10260900e-01,
         6.82747686e+00,  4.93736342e+00,  3.75036105e+00,
         3.35919108e+00,  7.15049023e+00,  1.57572946e+00,
        -4.28314554e+00,  5.16138560e+00,  2.32047183e+00,
        -8.04653004e+00,  4.83576891e+00, -4.89872842e+00,
         4.14632693e+00,  1.94483622e+00, -2.47761330e+00,
         5.48074848e+00, -6.24928312e-02,  4.70874389e-01,
         7.06676827e-01, -5.11764782e-01,  7.33441211e-01,
         5.25365538e+00, -5.40288737e-03, -1.56812256e+00,
         6.58513141e-02, -6.00755379e-01, -1.79233985e+00],
       [-1.16008112e+00, -1.30537468e+00,  4.10831041e+00,
         3.36673880e-01,  2.66289604e-01, -6.15823934e-01,
        -3.75967698e+00,  1.67458659e+00,  3.42161019e-01,
         1.08485128e+00,  1.41125814e+00,  1.02274114e+00,
         8.45651996e-01,  4.02577889e+00,  1.30070426e+00,
        -2.69506992e+00,  2.22255490e+00,  7.95286193e-01,
        -6.10756286e+00,  2.84026230e+00, -1.87380099e+00,
         1.26162436e+00,  1.55185117e+00, -5.62559056e-01,
         2.40851204e+00, -1.99981008e-02,  1.72827967e-01,
         4.41597945e-01, -2.53734982e-03,  2.01582717e-01,
         2.28671770e+00, -4.59629837e-03, -5.84773722e-01,
         1.30841681e-02, -2.33198932e-01, -6.84086688e-01],
       [-1.44916382e+00, -1.47856112e+00,  5.60652615e+00,
        -1.11994212e+00,  6.19583189e-02, -9.84255167e-02,
        -4.38966506e+00,  8.90714088e-01,  1.63319684e-01,
         6.17145002e+00,  6.27555512e-01, -8.37597702e-01,
         8.15876405e-01, -3.72939977e-01, -4.46542199e+00,
        -2.27155531e+00,  1.78546852e+00, -1.49351296e+00,
        -9.91586322e-01, -2.21851260e+00, -9.57958120e-01,
         3.04523327e-01,  1.09610427e+00,  2.80207877e+00,
         1.86876096e+00, -4.91099169e-02,  5.07496564e-01,
         8.09998405e-01,  1.07153692e-01, -2.67765468e-02,
         1.78309205e+00,  3.12058553e-05, -4.60929681e-01,
        -9.88798215e-03, -1.87418747e-01, -5.26235425e-01],
       [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00,
         0.00000000e+00,  0.00000000e+00,  0.00000000e+00,
         0.00000000e+00,  0.00000000e+00,  0.00000000e+00,
        -1.06263720e-32,  0.00000000e+00, -4.62779636e-34,
        -5.16679873e-33,  1.93223463e-33,  5.04292954e-34,
        -2.12247278e-32,  2.80994520e-35,  6.07763349e-33,
         9.41199104e-34,  1.63803733e-34,  7.71155108e-34,
         2.44767128e-34,  1.46314913e-34,  7.54955334e-35,
        -2.10050050e-35,  3.98722952e-35, -6.62077770e-34,
         2.61368287e-34,  5.83460875e-40,  1.89642758e-34,
         1.79206180e-35, -2.93656052e-36, -6.61839833e-44,
         1.02680202e-35, -1.96355950e-37, -1.96355950e-37]])
    dt_traj = np.array([7.49833686e-41, 3.92185094e-02, 1.38525033e-02, 6.73738838e-03,
       5.98141963e-03, 7.26100640e-03])


